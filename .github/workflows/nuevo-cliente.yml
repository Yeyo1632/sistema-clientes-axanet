name: ðŸ†• CreaciÃ³n de Nuevo Cliente
description: Flujo automatizado para notificar la creaciÃ³n de nuevos clientes

on:
  workflow_dispatch:
    inputs:
      nombre_cliente:
        description: 'Nombre del nuevo cliente'
        required: true
        type: string
      tipo_servicio:
        description: 'Tipo de servicio contratado'
        required: true
        type: choice
        options:
        - ConsultorÃ­a TI
        - Desarrollo Software
        - Soporte TÃ©cnico
        - Seguridad InformÃ¡tica
        - Infraestructura Cloud
      prioridad:
        description: 'Nivel de prioridad'
        required: true
        type: choice
        options:
        - Baja
        - Media
        - Alta
        - CrÃ­tica

jobs:
  notificar-nuevo-cliente:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¢ Notificar creaciÃ³n de nuevo cliente
        run: |
          echo "ðŸŽ‰ [NUEVO CLIENTE CREADO]"
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ðŸ‘¤ Nombre: ${{ github.event.inputs.nombre_cliente }}"
          echo "ðŸ› ï¸  Servicio: ${{ github.event.inputs.tipo_servicio }}"
          echo "ðŸš¨ Prioridad: ${{ github.event.inputs.prioridad }}"
          echo "ðŸ“… Fecha: $(date)"
          echo "ðŸ‘¥ Creado por: ${{ github.actor }}"
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          
      - name: ðŸ“§ Notificar a equipos
        run: |
          echo "ðŸ“¤ ENVIANDO NOTIFICACIONES A EQUIPOS:"
          echo "â€¢ ðŸ‘¨â€ðŸ’» DevTeam - @dev-team-axanet"
          echo "â€¢ ðŸ–¥ï¸  ITTeam - @it-support-axanet" 
          echo "â€¢ ðŸ’¼ CustServTeam - @customer-success-axanet"
          echo "â€¢ ðŸ“Š SalesTeam - @sales-axanet"
          echo ""
          echo "ðŸ”” Acciones requeridas:"
          echo "   - Configurar acceso a sistemas"
          echo "   - Crear documentaciÃ³n inicial"
          echo "   - Programar reuniÃ³n de onboarding"
          echo "   - Asignar recursos del proyecto"
          
      - name: ðŸ“‹ Crear tareas automÃ¡ticas
        run: |
          echo "âœ… TAREAS AUTOMÃTICAS CREADAS:"
          echo "   [ ] Crear carpeta del cliente en sistema"
          echo "   [ ] Generar contrato y documentaciÃ³n"
          echo "   [ ] Configurar accesos y permisos"
          echo "   [ ] Programar reuniÃ³n de kick-off"
          echo "   [ ] Asignar equipo de proyecto"
          echo ""
          echo "â° PrÃ³ximos pasos programados automÃ¡ticamente"
          
      - name: ðŸ’¾ Registrar en log del sistema
        run: |
          echo "ðŸ“ REGISTRO EN SISTEMA:"
          echo "NUEVO_CLIENTE|${{ github.event.inputs.nombre_cliente }}|${{ github.event.inputs.tipo_servicio }}|${{ github.event.inputs.prioridad }}|$(date -Iseconds)|${{ github.actor }}" >> clientes-log.txt
          echo "âœ… Registro completado en clientes-log.txt"
